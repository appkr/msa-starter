[![](https://api.travis-ci.com/appkr/msa-starter.svg)](https://travis-ci.com/github/appkr/msa-starter)
> **`IMPORTANT NOTE`** As of 2.0.0, the starter app no more uses node.js/typescript. It was ported to a gradle task.

## msa-starter
[jhipster](https://www.jhipster.tech/)를 사용하지 않고, 메쉬코리아의 스택과 업무 표준에 따르는 스프링부트 마이크로서비스 베이스 프로젝트를 만드는 스타터 앱입니다. 복제/포크해서 스타터 앱(`src`)이나 템플릿(`templates`) 부분을 자유롭게 고쳐서, 각자의 상황에 맞는 새로운 스타터 앱을 만들 수 있습니다

**메쉬코리아 스택이 없는 일반 스프링부트 마이크로서비스 베이스 프로젝트도 만들 수 있습니다**

[![asciicast](https://asciinema.org/a/497543.svg)](https://asciinema.org/a/497543)

### Install
```bash
$ git clone https://github.com/appkr/msa-starter.git
```

### How to use
spring-boot 마이크로서비스 프로젝트를 만듭니다. build 폴더에 새 프로젝트가 생성됩니다.
```bash
~/msa-starter $ ./gradlew generate 
# > 부릉 프로젝트입니까(y/n, default: n)?: ↵
# > 사용하려는 자바 버전은 무엇입니까(1.8/11, default: 11)?: ↵
# > 프로젝트 이름은 무엇입니까(default: example)? demo
# > 그룹 이름은 무엇입니까(default: dev.appkr)? me.group
# > 웹 서버 포트는 무엇입니까(default: 8080)? 19999
# > 웹 요청 및 응답에 사용할 미디어 타입은 무엇입니까(default: application/json)? ↵

# 진행할까요('n' to quit)? [projectType:n, projectName:demo, ...] ↵
# .../msa-starter/build/docker/cluster-compose.yml created
# ...
# BUILD SUCCESSFUL in ...
```

생성된 프로젝트를 다른 폴더로 복사해서 프로젝트를 시작합니다
```bash
~/msa-starter $ cp -r build {path-to-your-project}
~/msa-starter $ cd {path-to-your-project} && git init && ./gradlew clean build
```

### What's in the spring-boot project generated by the msa-starter
스타터 앱으로 만든 스프링부트 프로젝트에 포함된 내용입니다.

- spring-boot 2.5.x
- Basic setup including actuator, spring-configuration-processor, lombok, mapstruct, logback etc
- docker-compose for local development environment; Which includes MySQL, Kafka
- Persistence
    - JPA, MySQL/H2 driver
    - [Liquibase](https://github.com/liquibase/liquibase-gradle-plugin) integration for schema management
    - QueryDSL, JPA Specification integration
- API first development
    - [openapi-generator gradle plugin](https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-gradle-plugin) integration
    - [Zalando's RFC7807 problem web](https://github.com/zalando/problem-spring-web) integration
- Scheduler
    - Async TaskExecutor configuration
    - [ShedLock](https://github.com/lukas-krecan/ShedLock) integration for scheduler lock
    - Kafka binder integration
- Log tracing
    - [Zalando's logbook](https://github.com/zalando/logbook) integration for API Request & Response logging
    - [Sleuth](https://spring.io/projects/spring-cloud-sleuth) integration for distributed log tracing
    - [Sentry](https://docs.sentry.io/platforms/java/guides/logback/) integration for exception tracing
- Security
    - [Jhipster UAA](https://www.jhipster.tech/using-uaa/) integration
    - ResourceServer integration
- CI & CD
    - [git-properties gradle plugin](https://github.com/n0mer/gradle-git-properties) integration
    - [jib gradle plugin](https://github.com/GoogleContainerTools/jib/tree/master/jib-gradle-plugin) for docker image build
- Frequently-used utilities
    - e.g. `PaginationUtils`
- Examples
    - Example API incl. MockMvc test
    - PersitentEvent for "at-least-once" message publishing

### Contribution
스타터 앱뿐만아니라, `templates` 스프링부트 프로젝트도 기여할 수 있습니다

#### Folder Structure
```bash
├── templates               # Handlebar 템플릿을 포함하고 있는 스프링부트 프로젝트
└── build.gradle            # 스타터 앱 (a Gradle Task)
```
